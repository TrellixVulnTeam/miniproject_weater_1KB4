{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"J:\\\\doc\\\\ch6\\\\next-nodejs-auth-main\\\\ClientFinal-main\\\\frontend\\\\pages\\\\admin.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Head from 'next/head';\nimport styles from '../styles/admin.module.css'; //import useSWR, { mutate } from 'swr'\n\nimport Navbar from \"../components/navbar\";\nimport withAuth from \"../components/withAuth\";\nimport Link from 'next/link';\nconst URL = \"http://localhost/api/game_shops\";\nconst URL2 = \"http://localhost/api/income\";\n\nconst fetcher = url => axios.get(url).then(res => res.data);\n\nconst SWR1 = () => {\n  const {\n    0: shops,\n    1: setshops\n  } = useState({\n    list: [{\n      id: 1,\n      name: \"table\",\n      price: 999,\n      Deliverycost: \"Ems\",\n      Delivery: 99\n    }]\n  });\n  const {\n    0: shop,\n    1: setshop\n  } = useState({});\n  const {\n    0: id,\n    1: setId\n  } = useState(0);\n  const {\n    0: name,\n    1: setname\n  } = useState('');\n  const {\n    0: price,\n    1: setPrice\n  } = useState(0);\n  const {\n    0: Deliverycost,\n    1: setDeliverycost\n  } = useState(0);\n  const {\n    0: Delivery,\n    1: setDelivery\n  } = useState(0);\n  const {\n    0: imageurl,\n    1: setimageurl\n  } = useState('');\n  const {\n    0: income,\n    1: setIncome\n  } = useState(0);\n  useEffect(() => {\n    getshops();\n    getIncome();\n    profileUser();\n  }, []);\n\n  const profileUser = async () => {\n    try {\n      // console.log('token: ', token)\n      const users = await axios.get(`${config.URL}/profile`, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      }); // console.log('user: ', users.data)\n\n      setUser(users.data);\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  const getshops = async () => {\n    let shops = await axios.get(URL);\n    setshops(shops.data); //console.log('shop:', shops.data)\n  };\n\n  const getIncome = async () => {\n    let income = await axios.get(URL2);\n    setIncome(income.data); //console.log('income:', income.data)\n  };\n\n  const getshop = async id => {\n    let shop = await axios.get(`${URL}/${id}`);\n    console.log('shop id: ', shop.data);\n    setshop({\n      id: shop.data.id,\n      name: shop.data.name,\n      price: shop.data.price,\n      Deliverycost: shop.data.Deliverycost,\n      Delivery: shop.data.Delivery,\n      imageurl: shop.data.imageurl\n    });\n  };\n\n  const printshops = () => {\n    if (shops && shops.length) return shops.map((shop, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n      className: styles.listItem,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.box,\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          children: [\"Id:\", shop ? shop.id : 0]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: shop.imageurl,\n          width: \"100\",\n          height: \"100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: [\"name:\", shop ? shop.name : '-']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), \"Price:\", shop ? shop.price : 0, /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: [\"Deliverycost:\", shop ? shop.Deliverycost : 0]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: [\"Delivery:\", shop ? shop.Delivery : 0]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.byttondelet,\n          onClick: () => deleteshop(shop.id),\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.byttonget,\n          onClick: () => getshop(shop.id),\n          children: \"Get\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.byttonupdate,\n          onClick: () => updateshop(shop.id),\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 22\n      }, this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }, this));else return /*#__PURE__*/_jsxDEV(\"li\", {\n      children: \" \\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32 \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 20\n    }, this);\n  };\n\n  const printIncome = () => {\n    return income;\n  };\n\n  const addshop = async (name, price, Deliverycost, Delivery, imageurl) => {\n    let shops = await axios.post(URL, {\n      name,\n      price,\n      Deliverycost,\n      Delivery,\n      imageurl\n    });\n    setshops(shops.data);\n  };\n\n  const deleteshop = async id => {\n    const result = await axios.delete(`${URL}/${id}`);\n    console.log(result.data);\n    getshops();\n  };\n\n  const updateshop = async id => {\n    const result = await axios.put(`${URL}/${id}`, {\n      id,\n      name,\n      price,\n      Deliverycost,\n      Delivery,\n      imageurl\n    }); //console.log('student id update: ', result.data)\n\n    getshops();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"jsx-509156238\" + \" \" + (styles.container || \"\"),\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"jsx-509156238\",\n      children: \"Admin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n      rel: \"preconnect\",\n      href: \"https://fonts.gstatic.com\",\n      className: \"jsx-509156238\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n      href: \"https://fonts.googleapis.com/css2?family=Itim&display=swap\",\n      rel: \"stylesheet\",\n      className: \"jsx-509156238\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"jsx-509156238\",\n      children: [\"Income:\", printIncome()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n      rel: \"preconnect\",\n      href: \"https://fonts.gstatic.com\",\n      className: \"jsx-509156238\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n      href: \"https://fonts.googleapis.com/css2?family=Itim&display=swap\",\n      rel: \"stylesheet\",\n      className: \"jsx-509156238\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"jsx-509156238\",\n      children: \"Littelpig Shop\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n      rel: \"preconnect\",\n      href: \"https://fonts.gstatic.com\",\n      className: \"jsx-509156238\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n      href: \"https://fonts.googleapis.com/css2?family=Itim&display=swap\",\n      rel: \"stylesheet\",\n      className: \"jsx-509156238\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"jsx-509156238\" + \" \" + (styles.list || \"\"),\n      children: printshops()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }, this), \"selected order: \", shop.name, \" \", shop.price, \"  \", shop.Deliverycost, \" \", shop.Delivery, \" \", shop.imageurl, /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"jsx-509156238\",\n      children: \"Add Order\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"jsx-509156238\" + \" \" + (styles.formadd || \"\"),\n      children: [\"name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: e => setname(e.target.value),\n        className: \"jsx-509156238\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 18\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {\n        className: \"jsx-509156238\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 82\n      }, this), \"price:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        onChange: e => setPrice(e.target.value),\n        className: \"jsx-509156238\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 15\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {\n        className: \"jsx-509156238\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 82\n      }, this), \"Deliverycost:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onChange: e => setDeliverycost(e.target.value),\n        className: \"jsx-509156238\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 22\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {\n        className: \"jsx-509156238\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 94\n      }, this), \"Delivery:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        onChange: e => setDelivery(e.target.value),\n        className: \"jsx-509156238\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 18\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {\n        className: \"jsx-509156238\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 88\n      }, this), \"imageurl:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"Linkd\",\n        onChange: e => setimageurl(e.target.value),\n        className: \"jsx-509156238\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 18\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {\n        className: \"jsx-509156238\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 87\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => addshop(name, price, Deliverycost, Delivery, imageurl),\n        className: \"jsx-509156238\" + \" \" + (styles.byttonadd || \"\"),\n        children: \"Add new order\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"509156238\",\n      children: \"h1.jsx-509156238,h2.jsx-509156238,ul.jsx-509156238{font-family:'Itim',cursive;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIko6XFxkb2NcXGNoNlxcbmV4dC1ub2RlanMtYXV0aC1tYWluXFxDbGllbnRGaW5hbC1tYWluXFxmcm9udGVuZFxccGFnZXNcXGFkbWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTRJb0IsQUFHaUQsMkJBR2hDIiwiZmlsZSI6Iko6XFxkb2NcXGNoNlxcbmV4dC1ub2RlanMtYXV0aC1tYWluXFxDbGllbnRGaW5hbC1tYWluXFxmcm9udGVuZFxccGFnZXNcXGFkbWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcydcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCdcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi4vc3R5bGVzL2FkbWluLm1vZHVsZS5jc3MnXG4vL2ltcG9ydCB1c2VTV1IsIHsgbXV0YXRlIH0gZnJvbSAnc3dyJ1xuaW1wb3J0IE5hdmJhciBmcm9tIFwiLi4vY29tcG9uZW50cy9uYXZiYXJcIjtcbmltcG9ydCB3aXRoQXV0aCBmcm9tIFwiLi4vY29tcG9uZW50cy93aXRoQXV0aFwiO1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJ1xuXG5cbmNvbnN0IFVSTCA9IFwiaHR0cDovL2xvY2FsaG9zdC9hcGkvZ2FtZV9zaG9wc1wiO1xuY29uc3QgVVJMMiA9IFwiaHR0cDovL2xvY2FsaG9zdC9hcGkvaW5jb21lXCI7XG5cblxuY29uc3QgZmV0Y2hlciA9IHVybCA9PiBheGlvcy5nZXQodXJsKS50aGVuKHJlcyA9PiByZXMuZGF0YSlcbmNvbnN0IFNXUjEgPSAoKSA9PiB7XG4gICAgY29uc3QgW3Nob3BzLCBzZXRzaG9wc10gPSB1c2VTdGF0ZSh7IGxpc3Q6IFt7IGlkOiAxLCBuYW1lOiBcInRhYmxlXCIsIHByaWNlOjk5OSwgRGVsaXZlcnljb3N0OlwiRW1zXCIgICxEZWxpdmVyeTo5OSB9LF0gfSlcbiAgICBjb25zdCBbc2hvcCwgc2V0c2hvcF0gPSB1c2VTdGF0ZSh7fSlcbiAgICBjb25zdCBbaWQsIHNldElkXSA9IHVzZVN0YXRlKDApXG4gICAgY29uc3QgW25hbWUsIHNldG5hbWVdID0gdXNlU3RhdGUoJycpXG4gICAgY29uc3QgW3ByaWNlLCBzZXRQcmljZV0gPSB1c2VTdGF0ZSgwKVxuICAgIGNvbnN0IFtEZWxpdmVyeWNvc3Qsc2V0RGVsaXZlcnljb3N0XSA9IHVzZVN0YXRlKDApXG4gICAgY29uc3QgW0RlbGl2ZXJ5LHNldERlbGl2ZXJ5XSA9IHVzZVN0YXRlKDApXG4gICAgY29uc3QgW2ltYWdldXJsLHNldGltYWdldXJsXSA9IHVzZVN0YXRlKCcnKVxuICAgIGNvbnN0IFtpbmNvbWUsIHNldEluY29tZV0gPSB1c2VTdGF0ZSgwKVxuXG5cblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGdldHNob3BzKCk7XG4gICAgICAgIGdldEluY29tZSgpO1xuICAgICAgICBwcm9maWxlVXNlcigpO1xuICAgICAgfSwgW10pO1xuXG4gICAgY29uc3QgcHJvZmlsZVVzZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ3Rva2VuOiAnLCB0b2tlbilcbiAgICAgICAgICBjb25zdCB1c2VycyA9IGF3YWl0IGF4aW9zLmdldChgJHtjb25maWcuVVJMfS9wcm9maWxlYCwge1xuICAgICAgICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCB9LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd1c2VyOiAnLCB1c2Vycy5kYXRhKVxuICAgICAgICAgIHNldFVzZXIodXNlcnMuZGF0YSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICBcbiAgICBjb25zdCBnZXRzaG9wcyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgbGV0IHNob3BzID0gYXdhaXQgYXhpb3MuZ2V0KFVSTClcbiAgICAgICAgc2V0c2hvcHMoc2hvcHMuZGF0YSlcbiAgICAgICAgLy9jb25zb2xlLmxvZygnc2hvcDonLCBzaG9wcy5kYXRhKVxuICAgIH1cbiAgICBjb25zdCBnZXRJbmNvbWUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIGxldCBpbmNvbWUgPSBhd2FpdCBheGlvcy5nZXQoVVJMMilcbiAgICAgICAgc2V0SW5jb21lKGluY29tZS5kYXRhKVxuICAgICAgICAvL2NvbnNvbGUubG9nKCdpbmNvbWU6JywgaW5jb21lLmRhdGEpXG4gICAgfVxuXG4gICAgY29uc3QgZ2V0c2hvcCA9IGFzeW5jIChpZCkgPT4ge1xuICAgICAgICBsZXQgc2hvcCA9IGF3YWl0IGF4aW9zLmdldChgJHtVUkx9LyR7aWR9YClcbiAgICAgICAgY29uc29sZS5sb2coJ3Nob3AgaWQ6ICcsIHNob3AuZGF0YSlcbiAgICAgICAgc2V0c2hvcCh7IGlkOiBzaG9wLmRhdGEuaWQsIG5hbWU6IHNob3AuZGF0YS5uYW1lLCBwcmljZTogc2hvcC5kYXRhLnByaWNlLCAgRGVsaXZlcnljb3N0OiBzaG9wLmRhdGEuRGVsaXZlcnljb3N0LCBEZWxpdmVyeTogc2hvcC5kYXRhLkRlbGl2ZXJ5LCBpbWFnZXVybDogc2hvcC5kYXRhLmltYWdldXJsfSlcbiAgICB9XG5cblxuXG4gICAgY29uc3QgcHJpbnRzaG9wcyA9ICgpID0+IHtcbiAgICAgICAgaWYgKHNob3BzICYmIHNob3BzLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBzaG9wcy5tYXAoKHNob3AsIGluZGV4KSA9PlxuICAgICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9e3N0eWxlcy5saXN0SXRlbX0ga2V5PXtpbmRleH0+XG4gICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmJveH0+XG4gICAgICAgICAgICAgICAgICAgIDxoNj5JZDp7KHNob3ApID8gc2hvcC5pZCA6IDB9PC9oNj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e3Nob3AuaW1hZ2V1cmx9IHdpZHRoPVwiMTAwXCIgaGVpZ2h0PVwiMTAwXCI+PC9pbWc+XG4gICAgICAgICAgICAgICAgICAgIDxoNj5uYW1lOnsoc2hvcCkgPyBzaG9wLm5hbWUgOiAnLSd9PC9oNj5cbiAgICAgICAgICAgICAgICAgICAgUHJpY2U6eyhzaG9wKSA/IHNob3AucHJpY2UgOiAwfVxuICAgICAgICAgICAgICAgICAgICA8aDY+RGVsaXZlcnljb3N0Onsoc2hvcCkgPyBzaG9wLkRlbGl2ZXJ5Y29zdCA6IDB9PC9oNj5cbiAgICAgICAgICAgICAgICAgICAgPGg2PkRlbGl2ZXJ5Onsoc2hvcCkgPyBzaG9wLkRlbGl2ZXJ5IDogMH08L2g2PlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT17c3R5bGVzLmJ5dHRvbmRlbGV0fSBvbkNsaWNrPXsoKSA9PiBkZWxldGVzaG9wKHNob3AuaWQpfSA+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPXtzdHlsZXMuYnl0dG9uZ2V0fSBvbkNsaWNrPXsoKSA9PiBnZXRzaG9wKHNob3AuaWQpfT5HZXQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e3N0eWxlcy5ieXR0b251cGRhdGV9IG9uQ2xpY2s9eygpID0+IHVwZGF0ZXNob3Aoc2hvcC5pZCl9PlVwZGF0ZTwvYnV0dG9uPlxuXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiA8bGk+IOC5hOC4oeC5iOC4oeC4teC4quC4tOC4meC4hOC5ieC4siA8L2xpPlxuICAgIH1cblxuICAgIGNvbnN0IHByaW50SW5jb21lID0gKCkgPT4ge1xuICAgICAgICByZXR1cm4gaW5jb21lXG4gICAgfVxuXG5cbiAgICBjb25zdCBhZGRzaG9wID0gYXN5bmMgKCBuYW1lLCBwcmljZSwgRGVsaXZlcnljb3N0LCBEZWxpdmVyeSxpbWFnZXVybCkgPT4ge1xuICAgICAgICBsZXQgc2hvcHMgPSBhd2FpdCBheGlvcy5wb3N0KFVSTCwgeyAgbmFtZSwgcHJpY2UsIERlbGl2ZXJ5Y29zdCwgRGVsaXZlcnksIGltYWdldXJsIH0pXG4gICAgICAgIHNldHNob3BzKHNob3BzLmRhdGEpXG4gICAgfVxuXG5cbiAgICBjb25zdCBkZWxldGVzaG9wID0gYXN5bmMgKGlkKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGF4aW9zLmRlbGV0ZShgJHtVUkx9LyR7aWR9YClcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LmRhdGEpXG4gICAgICAgIGdldHNob3BzKClcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVzaG9wID0gYXN5bmMgKGlkKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGF4aW9zLnB1dChgJHtVUkx9LyR7aWR9YCwgeyBpZCwgbmFtZSwgcHJpY2UsIERlbGl2ZXJ5Y29zdCwgRGVsaXZlcnksIGltYWdldXJsIH0pXG4gICAgICAgIC8vY29uc29sZS5sb2coJ3N0dWRlbnQgaWQgdXBkYXRlOiAnLCByZXN1bHQuZGF0YSlcbiAgICAgICAgZ2V0c2hvcHMoKVxuICAgIH1cblxuXG5cbiAgICByZXR1cm4gKDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuY29udGFpbmVyfSA+XG4gICAgICAgICAgPE5hdmJhciAvPlxuICAgICAgICA8aDE+QWRtaW48L2gxPlxuICAgICAgICA8bGluayByZWw9XCJwcmVjb25uZWN0XCIgaHJlZj1cImh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb21cIi8+XG48bGluayBocmVmPVwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1JdGltJmRpc3BsYXk9c3dhcFwiIHJlbD1cInN0eWxlc2hlZXRcIj48L2xpbms+XG4gICAgICAgIDxoMj5JbmNvbWU6e3ByaW50SW5jb21lKCl9PC9oMj5cbiAgICAgICAgPGxpbmsgcmVsPVwicHJlY29ubmVjdFwiIGhyZWY9XCJodHRwczovL2ZvbnRzLmdzdGF0aWMuY29tXCIvPlxuPGxpbmsgaHJlZj1cImh0dHBzOi8vZm9udHMuZ29vZ2xlYXBpcy5jb20vY3NzMj9mYW1pbHk9SXRpbSZkaXNwbGF5PXN3YXBcIiByZWw9XCJzdHlsZXNoZWV0XCI+PC9saW5rPlxuICAgICAgICA8aDI+TGl0dGVscGlnIFNob3A8L2gyPlxuICAgICAgICA8bGluayByZWw9XCJwcmVjb25uZWN0XCIgaHJlZj1cImh0dHBzOi8vZm9udHMuZ3N0YXRpYy5jb21cIi8+XG48bGluayBocmVmPVwiaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1JdGltJmRpc3BsYXk9c3dhcFwiIHJlbD1cInN0eWxlc2hlZXRcIj48L2xpbms+XG5cblxuICAgICAgICA8dWwgY2xhc3NOYW1lPXtzdHlsZXMubGlzdH0gID57cHJpbnRzaG9wcygpfTwvdWw+XG4gICAgICAgIHNlbGVjdGVkIG9yZGVyOiB7c2hvcC5uYW1lfSB7c2hvcC5wcmljZX0gIHtzaG9wLkRlbGl2ZXJ5Y29zdH0ge3Nob3AuRGVsaXZlcnl9IHtzaG9wLmltYWdldXJsfVxuICAgICAgICA8aDI+QWRkIE9yZGVyPC9oMj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT17c3R5bGVzLmZvcm1hZGR9ID5cbiAgICAgICAgICAgXG4gICAgICAgICAgICBuYW1lOjxpbnB1dCB0eXBlPVwidGV4dFwiIG9uQ2hhbmdlPXsoZSkgPT4gc2V0bmFtZShlLnRhcmdldC52YWx1ZSl9IC8+IDxiciAvPlxuICAgICAgICBwcmljZTo8aW5wdXQgdHlwZT1cIm51bWJlclwiIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UHJpY2UoZS50YXJnZXQudmFsdWUpfSAvPiA8YnIgLz5cbiAgICAgICAgRGVsaXZlcnljb3N0OjxpbnB1dCB0eXBlPVwidGV4dFwiIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RGVsaXZlcnljb3N0KGUudGFyZ2V0LnZhbHVlKX0gLz4gPGJyIC8+XG4gICAgICAgIERlbGl2ZXJ5OjxpbnB1dCB0eXBlPVwibnVtYmVyXCIgb25DaGFuZ2U9eyhlKSA9PiBzZXREZWxpdmVyeShlLnRhcmdldC52YWx1ZSl9IC8+IDxiciAvPlxuICAgICAgICBpbWFnZXVybDo8aW5wdXQgdHlwZT1cIkxpbmtkXCIgb25DaGFuZ2U9eyhlKSA9PiBzZXRpbWFnZXVybChlLnRhcmdldC52YWx1ZSl9IC8+IDxiciAvPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9e3N0eWxlcy5ieXR0b25hZGR9IG9uQ2xpY2s9eygpID0+IGFkZHNob3AobmFtZSwgIHByaWNlLCBEZWxpdmVyeWNvc3QsIERlbGl2ZXJ5LCBpbWFnZXVybCl9PkFkZCBuZXcgb3JkZXI8L2J1dHRvbj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgXG4gICAgICAgIDwvdWw+XG4gICAgICAgIDxzdHlsZSBqc3g+e2BcbiAgICAgICAgICAgICAgICBoMSxoMix1bHtcbiAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdJdGltJywgY3Vyc2l2ZTtcblxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBgfTwvc3R5bGU+XG4gICAgPC9kaXY+XG4gICAgXG4gICAgKVxufVxuXG5leHBvcnQgZGVmYXVsdCB3aXRoQXV0aChTV1IxKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlcnZlclNpZGVQcm9wcyh7IHJlcSwgcmVzIH0pIHtcbiAgICByZXR1cm4geyBwcm9wczogeyB0b2tlbjogcmVxLmNvb2tpZXMudG9rZW4gfHwgXCJcIiB9IH07XG4gIH1cbiJdfQ== */\\n/*@ sourceURL=J:\\\\\\\\doc\\\\\\\\ch6\\\\\\\\next-nodejs-auth-main\\\\\\\\ClientFinal-main\\\\\\\\frontend\\\\\\\\pages\\\\\\\\admin.js */\"\n    }, void 0, false, void 0, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 13\n  }, this);\n};\n\nexport default withAuth(SWR1);\nexport function getServerSideProps({\n  req,\n  res\n}) {\n  return {\n    props: {\n      token: req.cookies.token || \"\"\n    }\n  };\n}","map":{"version":3,"sources":["J:/doc/ch6/next-nodejs-auth-main/ClientFinal-main/frontend/pages/admin.js"],"names":["React","useState","useEffect","axios","Head","styles","Navbar","withAuth","Link","URL","URL2","fetcher","url","get","then","res","data","SWR1","shops","setshops","list","id","name","price","Deliverycost","Delivery","shop","setshop","setId","setname","setPrice","setDeliverycost","setDelivery","imageurl","setimageurl","income","setIncome","getshops","getIncome","profileUser","users","config","headers","Authorization","token","setUser","e","console","log","getshop","printshops","length","map","index","listItem","box","byttondelet","deleteshop","byttonget","byttonupdate","updateshop","printIncome","addshop","post","result","delete","put","container","formadd","target","value","byttonadd","getServerSideProps","req","props","cookies"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Head from 'next/head'\nimport styles from '../styles/admin.module.css'\n//import useSWR, { mutate } from 'swr'\nimport Navbar from \"../components/navbar\";\nimport withAuth from \"../components/withAuth\";\nimport Link from 'next/link'\n\n\nconst URL = \"http://localhost/api/game_shops\";\nconst URL2 = \"http://localhost/api/income\";\n\n\nconst fetcher = url => axios.get(url).then(res => res.data)\nconst SWR1 = () => {\n    const [shops, setshops] = useState({ list: [{ id: 1, name: \"table\", price:999, Deliverycost:\"Ems\"  ,Delivery:99 },] })\n    const [shop, setshop] = useState({})\n    const [id, setId] = useState(0)\n    const [name, setname] = useState('')\n    const [price, setPrice] = useState(0)\n    const [Deliverycost,setDeliverycost] = useState(0)\n    const [Delivery,setDelivery] = useState(0)\n    const [imageurl,setimageurl] = useState('')\n    const [income, setIncome] = useState(0)\n\n\n\n    useEffect(() => {\n        getshops();\n        getIncome();\n        profileUser();\n      }, []);\n\n    const profileUser = async () => {\n        try {\n          // console.log('token: ', token)\n          const users = await axios.get(`${config.URL}/profile`, {\n            headers: { Authorization: `Bearer ${token}` },\n          });\n          // console.log('user: ', users.data)\n          setUser(users.data);\n        } catch (e) {\n          console.log(e);\n        }\n      };\n    \n    const getshops = async () => {\n        let shops = await axios.get(URL)\n        setshops(shops.data)\n        //console.log('shop:', shops.data)\n    }\n    const getIncome = async () => {\n        let income = await axios.get(URL2)\n        setIncome(income.data)\n        //console.log('income:', income.data)\n    }\n\n    const getshop = async (id) => {\n        let shop = await axios.get(`${URL}/${id}`)\n        console.log('shop id: ', shop.data)\n        setshop({ id: shop.data.id, name: shop.data.name, price: shop.data.price,  Deliverycost: shop.data.Deliverycost, Delivery: shop.data.Delivery, imageurl: shop.data.imageurl})\n    }\n\n\n\n    const printshops = () => {\n        if (shops && shops.length)\n            return shops.map((shop, index) =>\n                <li className={styles.listItem} key={index}>\n                     <div className={styles.box}>\n                    <h6>Id:{(shop) ? shop.id : 0}</h6>\n                    <img src={shop.imageurl} width=\"100\" height=\"100\"></img>\n                    <h6>name:{(shop) ? shop.name : '-'}</h6>\n                    Price:{(shop) ? shop.price : 0}\n                    <h6>Deliverycost:{(shop) ? shop.Deliverycost : 0}</h6>\n                    <h6>Delivery:{(shop) ? shop.Delivery : 0}</h6>\n                    <button className={styles.byttondelet} onClick={() => deleteshop(shop.id)} >Delete</button>\n                    <button className={styles.byttonget} onClick={() => getshop(shop.id)}>Get</button>\n                    <button className={styles.byttonupdate} onClick={() => updateshop(shop.id)}>Update</button>\n\n                    </div>\n                </li>\n            )\n        else\n            return <li> ไม่มีสินค้า </li>\n    }\n\n    const printIncome = () => {\n        return income\n    }\n\n\n    const addshop = async ( name, price, Deliverycost, Delivery,imageurl) => {\n        let shops = await axios.post(URL, {  name, price, Deliverycost, Delivery, imageurl })\n        setshops(shops.data)\n    }\n\n\n    const deleteshop = async (id) => {\n        const result = await axios.delete(`${URL}/${id}`)\n        console.log(result.data)\n        getshops()\n    }\n\n    const updateshop = async (id) => {\n        const result = await axios.put(`${URL}/${id}`, { id, name, price, Deliverycost, Delivery, imageurl })\n        //console.log('student id update: ', result.data)\n        getshops()\n    }\n\n\n\n    return (<div className={styles.container} >\n          <Navbar />\n        <h1>Admin</h1>\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\"/>\n<link href=\"https://fonts.googleapis.com/css2?family=Itim&display=swap\" rel=\"stylesheet\"></link>\n        <h2>Income:{printIncome()}</h2>\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\"/>\n<link href=\"https://fonts.googleapis.com/css2?family=Itim&display=swap\" rel=\"stylesheet\"></link>\n        <h2>Littelpig Shop</h2>\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\"/>\n<link href=\"https://fonts.googleapis.com/css2?family=Itim&display=swap\" rel=\"stylesheet\"></link>\n\n\n        <ul className={styles.list}  >{printshops()}</ul>\n        selected order: {shop.name} {shop.price}  {shop.Deliverycost} {shop.Delivery} {shop.imageurl}\n        <h2>Add Order</h2>\n        <ul className={styles.formadd} >\n           \n            name:<input type=\"text\" onChange={(e) => setname(e.target.value)} /> <br />\n        price:<input type=\"number\" onChange={(e) => setPrice(e.target.value)} /> <br />\n        Deliverycost:<input type=\"text\" onChange={(e) => setDeliverycost(e.target.value)} /> <br />\n        Delivery:<input type=\"number\" onChange={(e) => setDelivery(e.target.value)} /> <br />\n        imageurl:<input type=\"Linkd\" onChange={(e) => setimageurl(e.target.value)} /> <br />\n            <button className={styles.byttonadd} onClick={() => addshop(name,  price, Deliverycost, Delivery, imageurl)}>Add new order</button>\n            \n            \n        </ul>\n        <style jsx>{`\n                h1,h2,ul{\n                    font-family: 'Itim', cursive;\n\n                    \n                }\n                \n            `}</style>\n    </div>\n    \n    )\n}\n\nexport default withAuth(SWR1);\n\nexport function getServerSideProps({ req, res }) {\n    return { props: { token: req.cookies.token || \"\" } };\n  }\n"]},"metadata":{},"sourceType":"module"}