{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"J:\\\\doc\\\\ch6\\\\next-nodejs-auth-main\\\\ClientFinal-main\\\\frontend\\\\pages\\\\shops.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Head from 'next/head';\nimport styles from '../styles/shops.module.css';\nimport Navbar from \"../components/navbar\";\nimport Link from 'next/link';\nconst URL = \"http://localhost/api/game_shops\";\nconst URL2 = \"http://localhost/api/purchase\";\n\nconst fetcher = url => axios.get(url).then(res => res.data);\n\nconst SWR2 = () => {\n  const {\n    0: game_shops,\n    1: setgame_shops\n  } = useState({});\n  const {\n    0: game_shop,\n    1: setgame_shop\n  } = useState({});\n  const {\n    0: id,\n    1: setId\n  } = useState(0);\n  const {\n    0: name,\n    1: setname\n  } = useState('');\n  const {\n    0: price,\n    1: setPrice\n  } = useState(0);\n  const {\n    0: date_sell,\n    1: setdate_sell\n  } = useState('');\n  const {\n    0: sell_buy,\n    1: setsell_buy\n  } = useState(0);\n  const {\n    0: imageurl,\n    1: setimageurl\n  } = useState(''); //  const { data } = useSWR(URL, fetcher)\n  //const { data } = useSWR(URL2, fetcher)\n\n  useEffect(() => {\n    getgame_shops();\n  }, []);\n\n  const getgame_shops = async () => {\n    let game_shops = await axios.get(URL);\n    setgame_shops(game_shops.data);\n  };\n\n  const buygame_shop = async id => {\n    const result = await axios.delete(`${URL2}/${id}`);\n    console.log(result.data);\n    getgame_shops();\n  };\n\n  const printgame_shops = () => {\n    if (game_shops && game_shops.length) {\n      return game_shops.map((game_shop, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: styles.listItem,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.box,\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"Id:\", game_shop ? game_shop.id : 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: game_shop.imageurl,\n            width: \"100\",\n            height: \"100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"name:\", game_shop ? game_shop.name : 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"Price:\", game_shop ? game_shop.price : 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"date_sell:\", game_shop ? game_shop.date_sell : 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"sell_buy:\", game_shop ? game_shop.sell_buy : 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => buygame_shop(game_shop.id),\n          className: styles.btnupdate,\n          children: \"Buy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this));\n    } else return /*#__PURE__*/_jsxDEV(\"li\", {\n      children: \" Emtpy \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 20\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"GameStore\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n      rel: \"preconnect\",\n      href: \"https://fonts.gstatic.com\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n      href: \"https://fonts.googleapis.com/css2?family=Crimson+Text&family=Roboto+Mono:ital,wght@1,200&display=swap\",\n      rel: \"stylesheet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: styles.list,\n      children: printgame_shops()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 13\n  }, this);\n};\n\nexport default SWR2;\nexport function getServerSideProps({\n  req,\n  res\n}) {\n  return {\n    props: {\n      token: req.cookies.token || \"\"\n    }\n  };\n}","map":{"version":3,"sources":["J:/doc/ch6/next-nodejs-auth-main/ClientFinal-main/frontend/pages/shops.js"],"names":["React","useState","useEffect","axios","Head","styles","Navbar","Link","URL","URL2","fetcher","url","get","then","res","data","SWR2","game_shops","setgame_shops","game_shop","setgame_shop","id","setId","name","setname","price","setPrice","date_sell","setdate_sell","sell_buy","setsell_buy","imageurl","setimageurl","getgame_shops","buygame_shop","result","delete","console","log","printgame_shops","length","map","index","listItem","box","btnupdate","container","list","getServerSideProps","req","props","token","cookies"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport Head from 'next/head'\nimport styles from '../styles/shops.module.css'\nimport Navbar from \"../components/navbar\";\nimport Link from 'next/link'\n\nconst URL = \"http://localhost/api/game_shops\";\nconst URL2 = \"http://localhost/api/purchase\";\n\nconst fetcher = url => axios.get(url).then(res => res.data)\n\nconst SWR2 = () => {\n    const [game_shops, setgame_shops] = useState({ })\n    const [game_shop, setgame_shop] = useState({})\n    const [id, setId] = useState(0)\n    const [name, setname] = useState('')\n    const [price, setPrice] = useState(0)\n    const [date_sell, setdate_sell] = useState('')\n    const [sell_buy, setsell_buy] = useState(0)\n    const [imageurl, setimageurl] = useState('')\n  //  const { data } = useSWR(URL, fetcher)\n    //const { data } = useSWR(URL2, fetcher)\n\n\n    useEffect(() => { getgame_shops() }, [])\n\n    const getgame_shops = async () => {\n        let game_shops = await axios.get(URL)\n        setgame_shops(game_shops.data)\n    }\n    const buygame_shop = async (id) => {\n        const result = await axios.delete(`${URL2}/${id}`)\n        console.log(result.data)\n        getgame_shops()\n    }\n\n\n    const printgame_shops = () => {\n        \n        if (game_shops && game_shops.length){\n            return game_shops.map((game_shop, index) =>\n                <li className={styles.listItem} key={index}>\n                <div className={styles.box} >\n                    <h6 >Id:{(game_shop ? game_shop.id : 0) }</h6>\n                    <img src={game_shop.imageurl} width=\"100\" height=\"100\"></img>\n                    <h6>name:{(game_shop) ? game_shop.name : 0}</h6>\n                    <h6>Price:{(game_shop) ? game_shop.price : 0}</h6>\n                    <h6>date_sell:{(game_shop) ? game_shop.date_sell : 0}</h6>\n                    <h6>sell_buy:{(game_shop) ? game_shop.sell_buy : 0}</h6>\n                    </div>\n                    <button onClick={() => buygame_shop(game_shop.id)} className={styles.btnupdate} >Buy</button>\n                </li>\n            )}\n        else\n            return <li> Emtpy </li>\n            \n    }\n    return (<div className={styles.container}>\n        <Navbar />\n        \n        <h1>GameStore</h1>\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" />\n        <link href=\"https://fonts.googleapis.com/css2?family=Crimson+Text&family=Roboto+Mono:ital,wght@1,200&display=swap\" rel=\"stylesheet\"></link>\n        <ul className={styles.list} >{printgame_shops()}</ul>\n    </div>\n    \n    )\n\n}\n\nexport default SWR2\n\nexport function getServerSideProps({ req, res }) {\n    return { props: { token: req.cookies.token || \"\" } };\n}"]},"metadata":{},"sourceType":"module"}