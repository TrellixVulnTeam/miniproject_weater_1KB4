{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"J:\\\\doc\\\\ch6\\\\next-nodejs-auth-main\\\\ClientFinal-main\\\\frontend\\\\pages\\\\shops.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios'; //import useSWR, { mutate } from 'swr'\n\nimport Head from 'next/head';\nimport styles from '../styles/games.module.css';\nimport Navbar from \"../components/navbar\";\nimport Link from 'next/link';\nconst URL = \"http://localhost/api/games\";\nconst URL2 = \"http://localhost/api/purchase\";\n\nconst fetcher = url => axios.get(url).then(res => res.data);\n\nconst SWR2 = () => {\n  const {\n    0: games,\n    1: setgames\n  } = useState({});\n  const {\n    0: game,\n    1: setgame\n  } = useState({});\n  const {\n    0: id,\n    1: setId\n  } = useState(0);\n  const {\n    0: name,\n    1: setname\n  } = useState('');\n  const {\n    0: price,\n    1: setPrice\n  } = useState(0);\n  const {\n    0: Deliverycost,\n    1: setDeliverycost\n  } = useState('');\n  const {\n    0: Delivery,\n    1: setDelivery\n  } = useState(0);\n  const {\n    0: imageurl,\n    1: setimageurl\n  } = useState(''); //  const { data } = useSWR(URL, fetcher)\n  //const { data } = useSWR(URL2, fetcher)\n\n  useEffect(() => {\n    getgames();\n  }, []);\n\n  const getgames = async () => {\n    let games = await axios.get(URL);\n    setgames(games.data); //console.log('game:', games.data)\n  };\n\n  const buygame = async id => {\n    const result = await axios.delete(`${URL2}/${id}`);\n    console.log(result.data);\n    getgames();\n  };\n\n  const printgames = () => {\n    if (games && games.length) {\n      return games.map((game, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: styles.listItem,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.box,\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"Id:\", game ? game.id : 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: game.imageurl,\n            width: \"100\",\n            height: \"100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"name:\", game ? game.name : 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"Price:\", game ? game.price : 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"Deliverycost:\", game ? game.Deliverycost : 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n            children: [\"Delivery:\", game ? game.Delivery : 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => buygame(game.id),\n          className: styles.byttonupdate,\n          children: \"Buy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this));\n    } else return /*#__PURE__*/_jsxDEV(\"li\", {\n      children: \" \\u0E44\\u0E21\\u0E48\\u0E21\\u0E35\\u0E2A\\u0E34\\u0E19\\u0E04\\u0E49\\u0E32 \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 20\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"jsx-3377664719\" + \" \" + (styles.container || \"\"),\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"jsx-3377664719\",\n      children: \"Littelpig game\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n      rel: \"preconnect\",\n      href: \"https://fonts.gstatic.com\",\n      className: \"jsx-3377664719\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n      href: \"https://fonts.googleapis.com/css2?family=Itim&display=swap\",\n      rel: \"stylesheet\",\n      className: \"jsx-3377664719\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"jsx-3377664719\" + \" \" + (styles.list || \"\"),\n      children: printgames()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(_JSXStyle, {\n      id: \"3377664719\",\n      children: \"h1.jsx-3377664719,h2.jsx-3377664719,ul.jsx-3377664719{font-family:'Itim',cursive;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIko6XFxkb2NcXGNoNlxcbmV4dC1ub2RlanMtYXV0aC1tYWluXFxDbGllbnRGaW5hbC1tYWluXFxmcm9udGVuZFxccGFnZXNcXHNob3BzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXFFZ0IsQUFHaUQsMkJBQ2hDIiwiZmlsZSI6Iko6XFxkb2NcXGNoNlxcbmV4dC1ub2RlanMtYXV0aC1tYWluXFxDbGllbnRGaW5hbC1tYWluXFxmcm9udGVuZFxccGFnZXNcXHNob3BzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcydcbi8vaW1wb3J0IHVzZVNXUiwgeyBtdXRhdGUgfSBmcm9tICdzd3InXG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnXG5pbXBvcnQgc3R5bGVzIGZyb20gJy4uL3N0eWxlcy9nYW1lcy5tb2R1bGUuY3NzJ1xuaW1wb3J0IE5hdmJhciBmcm9tIFwiLi4vY29tcG9uZW50cy9uYXZiYXJcIjtcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluaydcblxuY29uc3QgVVJMID0gXCJodHRwOi8vbG9jYWxob3N0L2FwaS9nYW1lc1wiO1xuY29uc3QgVVJMMiA9IFwiaHR0cDovL2xvY2FsaG9zdC9hcGkvcHVyY2hhc2VcIjtcblxuY29uc3QgZmV0Y2hlciA9IHVybCA9PiBheGlvcy5nZXQodXJsKS50aGVuKHJlcyA9PiByZXMuZGF0YSlcblxuY29uc3QgU1dSMiA9ICgpID0+IHtcbiAgICBjb25zdCBbZ2FtZXMsIHNldGdhbWVzXSA9IHVzZVN0YXRlKHsgfSlcbiAgICBjb25zdCBbZ2FtZSwgc2V0Z2FtZV0gPSB1c2VTdGF0ZSh7fSlcbiAgICBjb25zdCBbaWQsIHNldElkXSA9IHVzZVN0YXRlKDApXG4gICAgY29uc3QgW25hbWUsIHNldG5hbWVdID0gdXNlU3RhdGUoJycpXG4gICAgY29uc3QgW3ByaWNlLCBzZXRQcmljZV0gPSB1c2VTdGF0ZSgwKVxuICAgIGNvbnN0IFtEZWxpdmVyeWNvc3QsIHNldERlbGl2ZXJ5Y29zdF0gPSB1c2VTdGF0ZSgnJylcbiAgICBjb25zdCBbRGVsaXZlcnksIHNldERlbGl2ZXJ5XSA9IHVzZVN0YXRlKDApXG4gICAgY29uc3QgW2ltYWdldXJsLCBzZXRpbWFnZXVybF0gPSB1c2VTdGF0ZSgnJylcbiAgLy8gIGNvbnN0IHsgZGF0YSB9ID0gdXNlU1dSKFVSTCwgZmV0Y2hlcilcbiAgICAvL2NvbnN0IHsgZGF0YSB9ID0gdXNlU1dSKFVSTDIsIGZldGNoZXIpXG5cblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7IGdldGdhbWVzKCkgfSwgW10pXG5cbiAgICBjb25zdCBnZXRnYW1lcyA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgbGV0IGdhbWVzID0gYXdhaXQgYXhpb3MuZ2V0KFVSTClcbiAgICAgICAgc2V0Z2FtZXMoZ2FtZXMuZGF0YSlcbiAgICAgICAgLy9jb25zb2xlLmxvZygnZ2FtZTonLCBnYW1lcy5kYXRhKVxuICAgIH1cbiAgICBjb25zdCBidXlnYW1lID0gYXN5bmMgKGlkKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGF4aW9zLmRlbGV0ZShgJHtVUkwyfS8ke2lkfWApXG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5kYXRhKVxuICAgICAgICBnZXRnYW1lcygpXG4gICAgfVxuXG5cbiAgICBjb25zdCBwcmludGdhbWVzID0gKCkgPT4ge1xuICAgICAgICBcbiAgICAgICAgaWYgKGdhbWVzICYmIGdhbWVzLmxlbmd0aCl7XG4gICAgICAgICAgICByZXR1cm4gZ2FtZXMubWFwKChnYW1lLCBpbmRleCkgPT5cbiAgICAgICAgICAgICAgICA8bGkgY2xhc3NOYW1lPXtzdHlsZXMubGlzdEl0ZW19IGtleT17aW5kZXh9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtzdHlsZXMuYm94fSA+XG4gICAgICAgICAgICAgICAgICAgIDxoNiA+SWQ6eyhnYW1lID8gZ2FtZS5pZCA6IDApIH08L2g2PlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17Z2FtZS5pbWFnZXVybH0gd2lkdGg9XCIxMDBcIiBoZWlnaHQ9XCIxMDBcIj48L2ltZz5cbiAgICAgICAgICAgICAgICAgICAgPGg2Pm5hbWU6eyhnYW1lKSA/IGdhbWUubmFtZSA6IDB9PC9oNj5cbiAgICAgICAgICAgICAgICAgICAgPGg2PlByaWNlOnsoZ2FtZSkgPyBnYW1lLnByaWNlIDogMH08L2g2PlxuICAgICAgICAgICAgICAgICAgICA8aDY+RGVsaXZlcnljb3N0OnsoZ2FtZSkgPyBnYW1lLkRlbGl2ZXJ5Y29zdCA6IDB9PC9oNj5cbiAgICAgICAgICAgICAgICAgICAgPGg2PkRlbGl2ZXJ5OnsoZ2FtZSkgPyBnYW1lLkRlbGl2ZXJ5IDogMH08L2g2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBidXlnYW1lKGdhbWUuaWQpfSBjbGFzc05hbWU9e3N0eWxlcy5ieXR0b251cGRhdGV9ID5CdXk8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIDxsaT4g4LmE4Lih4LmI4Lih4Li14Liq4Li04LiZ4LiE4LmJ4LiyIDwvbGk+XG4gICAgICAgICAgICBcbiAgICB9XG4gICAgcmV0dXJuICg8ZGl2IGNsYXNzTmFtZT17c3R5bGVzLmNvbnRhaW5lcn0+XG4gICAgICAgIDxOYXZiYXIgLz5cbiAgICAgICAgXG4gICAgICAgIDxoMT5MaXR0ZWxwaWcgZ2FtZTwvaDE+XG4gICAgICAgIDxsaW5rIHJlbD1cInByZWNvbm5lY3RcIiBocmVmPVwiaHR0cHM6Ly9mb250cy5nc3RhdGljLmNvbVwiLz5cbjxsaW5rIGhyZWY9XCJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PUl0aW0mZGlzcGxheT1zd2FwXCIgcmVsPVwic3R5bGVzaGVldFwiPjwvbGluaz5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT17c3R5bGVzLmxpc3R9ID57cHJpbnRnYW1lcygpfTwvdWw+XG5cbiAgICAgICBcbiAgICA8c3R5bGUganN4PntgXG4gICAgICAgICAgICAgICAgaDEsaDIsdWx7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiAnSXRpbScsIGN1cnNpdmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgYH08L3N0eWxlPlxuICAgIFxuXG4gICAgPC9kaXY+XG4gICAgXG4gICAgKVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFNXUjJcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNlcnZlclNpZGVQcm9wcyh7IHJlcSwgcmVzIH0pIHtcbiAgICByZXR1cm4geyBwcm9wczogeyB0b2tlbjogcmVxLmNvb2tpZXMudG9rZW4gfHwgXCJcIiB9IH07XG59Il19 */\\n/*@ sourceURL=J:\\\\\\\\doc\\\\\\\\ch6\\\\\\\\next-nodejs-auth-main\\\\\\\\ClientFinal-main\\\\\\\\frontend\\\\\\\\pages\\\\\\\\shops.js */\"\n    }, void 0, false, void 0, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 13\n  }, this);\n};\n\nexport default SWR2;\nexport function getServerSideProps({\n  req,\n  res\n}) {\n  return {\n    props: {\n      token: req.cookies.token || \"\"\n    }\n  };\n}","map":{"version":3,"sources":["J:/doc/ch6/next-nodejs-auth-main/ClientFinal-main/frontend/pages/shops.js"],"names":["React","useState","useEffect","axios","Head","styles","Navbar","Link","URL","URL2","fetcher","url","get","then","res","data","SWR2","games","setgames","game","setgame","id","setId","name","setname","price","setPrice","Deliverycost","setDeliverycost","Delivery","setDelivery","imageurl","setimageurl","getgames","buygame","result","delete","console","log","printgames","length","map","index","listItem","box","byttonupdate","container","list","getServerSideProps","req","props","token","cookies"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\n//import useSWR, { mutate } from 'swr'\nimport Head from 'next/head'\nimport styles from '../styles/games.module.css'\nimport Navbar from \"../components/navbar\";\nimport Link from 'next/link'\n\nconst URL = \"http://localhost/api/games\";\nconst URL2 = \"http://localhost/api/purchase\";\n\nconst fetcher = url => axios.get(url).then(res => res.data)\n\nconst SWR2 = () => {\n    const [games, setgames] = useState({ })\n    const [game, setgame] = useState({})\n    const [id, setId] = useState(0)\n    const [name, setname] = useState('')\n    const [price, setPrice] = useState(0)\n    const [Deliverycost, setDeliverycost] = useState('')\n    const [Delivery, setDelivery] = useState(0)\n    const [imageurl, setimageurl] = useState('')\n  //  const { data } = useSWR(URL, fetcher)\n    //const { data } = useSWR(URL2, fetcher)\n\n\n    useEffect(() => { getgames() }, [])\n\n    const getgames = async () => {\n        let games = await axios.get(URL)\n        setgames(games.data)\n        //console.log('game:', games.data)\n    }\n    const buygame = async (id) => {\n        const result = await axios.delete(`${URL2}/${id}`)\n        console.log(result.data)\n        getgames()\n    }\n\n\n    const printgames = () => {\n        \n        if (games && games.length){\n            return games.map((game, index) =>\n                <li className={styles.listItem} key={index}>\n                <div className={styles.box} >\n                    <h6 >Id:{(game ? game.id : 0) }</h6>\n                    <img src={game.imageurl} width=\"100\" height=\"100\"></img>\n                    <h6>name:{(game) ? game.name : 0}</h6>\n                    <h6>Price:{(game) ? game.price : 0}</h6>\n                    <h6>Deliverycost:{(game) ? game.Deliverycost : 0}</h6>\n                    <h6>Delivery:{(game) ? game.Delivery : 0}</h6>\n                    </div>\n                    <button onClick={() => buygame(game.id)} className={styles.byttonupdate} >Buy</button>\n                </li>\n            )}\n        else\n            return <li> ไม่มีสินค้า </li>\n            \n    }\n    return (<div className={styles.container}>\n        <Navbar />\n        \n        <h1>Littelpig game</h1>\n        <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\"/>\n<link href=\"https://fonts.googleapis.com/css2?family=Itim&display=swap\" rel=\"stylesheet\"></link>\n        <ul className={styles.list} >{printgames()}</ul>\n\n       \n    <style jsx>{`\n                h1,h2,ul{\n                    font-family: 'Itim', cursive;\n                }\n                \n            `}</style>\n    \n\n    </div>\n    \n    )\n\n}\n\nexport default SWR2\n\nexport function getServerSideProps({ req, res }) {\n    return { props: { token: req.cookies.token || \"\" } };\n}"]},"metadata":{},"sourceType":"module"}